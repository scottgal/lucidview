<Window xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        x:Class="MarkdownViewer.Views.SettingsDialog"
        Title="Preferences"
        Width="450" Height="420"
        WindowStartupLocation="CenterOwner"
        CanResize="False"
        ShowInTaskbar="False"
        Background="{DynamicResource AppBackground}">

    <Grid Margin="20" RowDefinitions="*,Auto">
        <ScrollViewer Grid.Row="0" HorizontalScrollBarVisibility="Disabled">
            <StackPanel Spacing="20" Margin="0,0,8,0">
                <!-- Theme -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Theme" FontWeight="SemiBold" FontSize="14"
                               Foreground="{DynamicResource AppText}" />
                    <ComboBox x:Name="ThemeComboBox"
                              Width="200"
                              HorizontalAlignment="Left">
                        <ComboBoxItem Content="Light" Tag="Light" />
                        <ComboBoxItem Content="Dark" Tag="Dark" />
                        <ComboBoxItem Content="VS Code" Tag="VSCode" />
                        <ComboBoxItem Content="GitHub" Tag="GitHub" />
                    </ComboBox>
                </StackPanel>

                <!-- Typography -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Typography" FontWeight="SemiBold" FontSize="14"
                               Foreground="{DynamicResource AppText}" />

                    <Grid ColumnDefinitions="120,*" RowDefinitions="Auto,Auto,Auto" Margin="0,4,0,0">
                        <TextBlock Grid.Row="0" Grid.Column="0"
                                   Text="Font family:"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource AppTextSecondary}" />
                        <ComboBox Grid.Row="0" Grid.Column="1"
                                  x:Name="FontFamilyComboBox"
                                  MinWidth="240"
                                  HorizontalAlignment="Stretch"
                                  HorizontalContentAlignment="Left"
                                  IsEditable="False"
                                  MaxDropDownHeight="320"
                                  Margin="0,0,0,8">
                            <ComboBox.SelectionBoxItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}"
                                               TextTrimming="CharacterEllipsis"
                                               VerticalAlignment="Center" />
                                </DataTemplate>
                            </ComboBox.SelectionBoxItemTemplate>
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}"
                                               TextTrimming="CharacterEllipsis"
                                               VerticalAlignment="Center" />
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>

                        <TextBlock Grid.Row="1" Grid.Column="0"
                                   Text="Font size:"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource AppTextSecondary}" />
                        <NumericUpDown Grid.Row="1" Grid.Column="1" x:Name="FontSizeBox"
                                       Minimum="10" Maximum="24" Increment="1"
                                       Width="120"
                                       HorizontalAlignment="Left"
                                       Margin="0,0,0,8" />

                        <TextBlock Grid.Row="2" Grid.Column="0"
                                   Text="Code font:"
                                   VerticalAlignment="Center"
                                   Foreground="{DynamicResource AppTextSecondary}" />
                        <ComboBox Grid.Row="2" Grid.Column="1"
                                  x:Name="CodeFontComboBox"
                                  MinWidth="240"
                                  HorizontalAlignment="Stretch"
                                  HorizontalContentAlignment="Left"
                                  IsEditable="False"
                                  MaxDropDownHeight="320">
                            <ComboBox.SelectionBoxItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}"
                                               TextTrimming="CharacterEllipsis"
                                               VerticalAlignment="Center" />
                                </DataTemplate>
                            </ComboBox.SelectionBoxItemTemplate>
                            <ComboBox.ItemTemplate>
                                <DataTemplate>
                                    <TextBlock Text="{Binding}"
                                               TextTrimming="CharacterEllipsis"
                                               VerticalAlignment="Center" />
                                </DataTemplate>
                            </ComboBox.ItemTemplate>
                        </ComboBox>
                    </Grid>
                </StackPanel>

                <!-- Layout -->
                <StackPanel Spacing="8">
                    <TextBlock Text="Layout" FontWeight="SemiBold" FontSize="14"
                               Foreground="{DynamicResource AppText}" />

                    <CheckBox x:Name="WordWrapCheckBox" Content="Word wrap"
                              Foreground="{DynamicResource AppTextSecondary}" />
                    <CheckBox x:Name="NavPanelCheckBox" Content="Show navigation panel by default"
                              Foreground="{DynamicResource AppTextSecondary}" />
                </StackPanel>
            </StackPanel>
        </ScrollViewer>

        <StackPanel Grid.Row="1"
                    Orientation="Horizontal"
                    HorizontalAlignment="Right"
                    Spacing="8"
                    Margin="0,16,0,0">
            <Button Content="Reset Defaults" Click="OnResetDefaults" />
            <Button Content="Cancel" Click="OnCancel" Width="80" />
            <Button Content="Save" Click="OnSave" Width="80" Classes="accent" />
        </StackPanel>
    </Grid>
</Window>
