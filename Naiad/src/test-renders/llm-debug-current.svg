<svg id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1653 2111.6" style="max-width: 1653px;" role="graphics-document document" xmlns:xlink="http://www.w3.org/1999/xlink"><style>/* Mermaid skin: default */
#mermaid-svg{
  font-family:\"trebuchet ms\", verdana, arial, sans-serif;
  font-size:16px;
  fill:#334155;
}
#mermaid-svg .flow-node-shape{
  fill:#eff6ff;
  stroke:#3b82f6;
  stroke-width:1px;
}
#mermaid-svg .flow-node-label,
#mermaid-svg .flow-node-label p{
  color:#334155;
  fill:#334155;
  margin:0;
}
#mermaid-svg .flow-edge{
  stroke:#475569;
  stroke-width:2.0px;
  fill:none;
}
#mermaid-svg .flow-edge-dotted{stroke-dasharray:2;}
#mermaid-svg .flow-edge-thick{stroke-width:3.5px;}
#mermaid-svg .flow-edge-label-box{
  fill:rgba(241,245,249,0.9);
  stroke:none;
  opacity:0.9;
}
#mermaid-svg .flow-edge-label,
#mermaid-svg .flow-edge-label p{
  color:#334155;
  fill:#334155;
  margin:0;
  text-align:center;
}
#mermaid-svg .flow-subgraph-box{
  fill:rgba(239,246,255,0.2);
  stroke:#bfdbfe;
  stroke-width:1px;
}
#mermaid-svg .flow-subgraph-title{
  fill:#2563eb;
  font-weight:600;
  font-size:15px;
}
#mermaid-svg .marker{
  fill:#475569;
  stroke:#475569;
}</style><defs><marker id="mermaid-svg_flowchart-v2-pointEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 0 L 10 5 L 0 10 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg_flowchart-v2-pointStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="4.5" refY="5" markerUnits="userSpaceOnUse" markerWidth="8" markerHeight="8" orient="auto"><path d="M 0 5 L 10 10 L 10 0 z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg_flowchart-v2-circleEnd" class="marker flowchart-v2" viewBox="0 0 10 10" refX="11" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg_flowchart-v2-circleStart" class="marker flowchart-v2" viewBox="0 0 10 10" refX="-1" refY="5" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><circle cx="5" cy="5" r="5" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg_flowchart-v2-crossEnd" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="12" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><marker id="mermaid-svg_flowchart-v2-crossStart" class="marker cross flowchart-v2" viewBox="0 0 11 11" refX="-1" refY="5.2" markerUnits="userSpaceOnUse" markerWidth="11" markerHeight="11" orient="auto"><path d="M 1,1 l 9,9 M 10,1 l -9,9" class="arrowMarkerPath" style="stroke-width: 2; stroke-dasharray: 1, 0;"/></marker><filter id="drop-shadow"><feDropShadow dx="0" dy="1" stdDeviation="2" flood-opacity="0.08" /></filter></defs><g transform="translate(8,8)"><rect x="562" y="0" width="340" height="166" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="732" y="14" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">1. File Upload</text><rect x="84" y="178" width="1160" height="270" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="664" y="192" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">2. Column Profiling</text><rect x="0" y="460" width="1637" height="166" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="818.5" y="474" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">3. Deterministic Scoring</text><rect x="698" y="638" width="420" height="248.8" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="908" y="652" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">3b. Safety Gates</text><rect x="594" y="938.4" width="438" height="555.2" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="813" y="952.4" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">4. LLM Verification</text><rect x="462" y="1505.6" width="570" height="294" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="747" y="1519.6" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">5. User Review</text><rect x="734" y="1811.6" width="474" height="284" rx="8" ry="8" class="flow-subgraph-box flow-subgraph-depth-0"/><text x="971" y="1825.6" text-anchor="middle" dominant-baseline="middle" class="flow-subgraph-title">6. Learning Loop</text><path d="M732,113 C732,121.33 732,129.67 732,138 C732,146.33 732,154.67 732,163 C732,171.33 732,179.67 732,213" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M732,267 Q732,292 732,317" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M611.2,395 C586.99,403.33 562.77,411.67 538.07,420 C513.37,428.33 488.19,436.67 463,445 C437.81,453.33 412.63,461.67 311.88,495" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M671.6,395 C661.77,403.33 651.94,411.67 641.17,420 C630.41,428.33 618.7,436.67 607,445 C595.3,453.33 583.59,461.67 519.92,507" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M732,395 C732,403.33 732,411.67 732,420 C732,428.33 732,436.67 732,445 C732,453.33 732,461.67 732,507" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M792.4,395 C799.35,403.33 806.31,411.67 815.07,420 C823.84,428.33 834.42,436.67 845,445 C855.58,453.33 866.16,461.67 908.48,495" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M852.8,395 C866.71,403.33 880.61,411.67 898.14,420 C915.68,428.33 936.84,436.67 958,445 C979.16,453.33 1000.32,461.67 1115.44,507" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M1097.33,1950.6 C1090.5,1925.6 1436.33,598 1494.2,573" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-dotted flow-edge-dotted-arrow"/><rect x="1199.25" y="1247" width="128.32" height="29.6" class="flow-edge-label-box"/><text x="1263.41" y="1261.8" text-anchor="middle" dominant-baseline="central" class="flow-edge-label">load at start</text><path d="M327.2,572.25 C357.09,580.83 386.97,589.42 416.43,597.88 C445.88,606.33 474.9,614.67 503.92,623 C532.94,631.33 561.95,639.67 904.4,726.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M540.58,561 C567.34,573.33 594.09,585.67 616.51,596 C638.93,606.33 657.01,614.67 675.09,623 C693.17,631.33 711.25,639.67 877.6,753.4" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M759.81,561 C772.52,573.33 785.22,585.67 795.87,596 C806.51,606.33 815.09,614.67 823.68,623 C832.26,631.33 840.85,639.67 904.4,780.2" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M958,573 C958,581.33 958,589.67 958,598 C958,606.33 958,614.67 958,623 C958,631.33 958,639.67 958,673" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M1156.19,561 C1143.48,573.33 1130.78,585.67 1120.13,596 C1109.49,606.33 1100.91,614.67 1092.32,623 C1083.74,631.33 1075.15,639.67 1018.3,733.3" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M1411.8,573 C1377.4,581.33 1343,589.67 1316.4,598 C1289.8,606.33 1271,614.67 1252.2,623 C1233.4,631.33 1214.6,639.67 1018.3,773.5" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M937.9,813.7 C944.6,828.73 951.3,843.77 954.65,858.75 C958,873.73 958,888.67 958,903.6 C958,918.53 958,933.47 941.5,989.9" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><rect x="885.2" y="888.8" width="145.6" height="29.6" class="flow-edge-label-box"/><text x="958" y="903.6" text-anchor="middle" dominant-baseline="central" class="flow-edge-label">Yes: cap to 79%</text><path d="M978.1,813.7 C971.4,828.73 964.7,843.77 961.35,858.75 C958,873.73 958,888.67 958,903.6 C958,918.53 958,933.47 974.5,989.9" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><rect x="941.36" y="888.8" width="33.28" height="29.6" class="flow-edge-label-box"/><text x="958" y="903.6" text-anchor="middle" dominant-baseline="central" class="flow-edge-label">No</text><path d="M974.5,1088.9 C963.12,1109.33 951.74,1129.77 951.32,1153.95 C950.91,1178.13 961.45,1206.07 957.01,1234 C952.56,1261.93 933.12,1289.87 933.12,1317.8 C933.12,1345.73 952.56,1373.67 948.64,1398.3 C944.72,1422.93 917.43,1444.27 902.46,1463.27 C887.5,1482.27 884.84,1498.93 878.21,1540.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><rect x="891.64" y="1344.9" width="102.4" height="29.6" class="flow-edge-label-box"/><text x="942.84" y="1359.7" text-anchor="middle" dominant-baseline="central" class="flow-edge-label">No: &gt;= 80%</text><path d="M941.5,1088.9 Q861.21,1150.2 822.07,1195" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><rect x="810.01" y="1135.4" width="102.4" height="29.6" class="flow-edge-label-box"/><text x="861.21" y="1150.2" text-anchor="middle" dominant-baseline="central" class="flow-edge-label">Yes: &lt; 80%</text><path d="M788,1273 Q788,1317.8 788,1362.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M751.63,1440.6 C743.86,1448.93 736.09,1457.27 728.31,1465.6 C720.54,1473.93 712.77,1482.27 705,1490.6 C697.23,1498.93 689.46,1507.27 658.37,1540.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M696.65,1618.6 Q744.5,1643.6 832.2,1680.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M873.67,1734.6 C876.71,1746.93 879.76,1759.27 882.31,1769.6 C884.87,1779.93 886.92,1788.27 888.98,1796.6 C891.04,1804.93 893.1,1813.27 901.33,1846.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M944,1900.6 Q977.33,1925.6 1046.67,1950.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M870.48,1618.6 Q869.5,1643.6 901.8,1680.6" fill="none" marker-end="url(#mermaid-svg_flowchart-v2-pointEnd)" class="flow-edge flow-edge-solid flow-edge-arrow"/><path d="M627.8,35 H836.2 Q841.2,35 841.2,40 V108 Q841.2,113 836.2,113 H627.8 Q622.8,113 622.8,108 V40 Q622.8,35 627.8,35 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="732" y="63.5" text-anchor="middle" class="flow-node-label"><tspan x="732" dy="0">CSV / XLSX / JSON /</tspan><tspan x="732" dy="21">Parquet</tspan></text><path d="M642.2,213 H821.8 Q826.8,213 826.8,218 V262 Q826.8,267 821.8,267 H642.2 Q637.2,267 637.2,262 V218 Q637.2,213 642.2,213 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="732" y="240" text-anchor="middle" dominant-baseline="central" class="flow-node-label">DuckDB ingestion</text><path d="M555.8,317 H908.2 Q913.2,317 913.2,322 V390 Q913.2,395 908.2,395 H555.8 Q550.8,395 550.8,390 V322 Q550.8,317 555.8,317 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="732" y="345.5" text-anchor="middle" class="flow-node-label"><tspan x="732" dy="0">Column profiler</tspan><tspan x="732" dy="21">types, stats, patterns, top values</tspan></text><path d="M65.8,495 H322.2 Q327.2,495 327.2,500 V568 Q327.2,573 322.2,573 H65.8 Q60.8,573 60.8,568 V500 Q60.8,495 65.8,495 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="194" y="523.5" text-anchor="middle" class="flow-node-label"><tspan x="194" dy="0">Token similarity</tspan><tspan x="194" dy="21">+ abbreviation expansion</tspan></text><path d="M382.6,507 H581.4 Q586.4,507 586.4,512 V556 Q586.4,561 581.4,561 H382.6 Q377.6,561 377.6,556 V512 Q377.6,507 382.6,507 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="482" y="534" text-anchor="middle" dominant-baseline="central" class="flow-node-label">Type compatibility</text><path d="M642.2,507 H821.8 Q826.8,507 826.8,512 V556 Q826.8,561 821.8,561 H642.2 Q637.2,561 637.2,556 V512 Q637.2,507 642.2,507 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="732" y="534" text-anchor="middle" dominant-baseline="central" class="flow-node-label">Pattern matching</text><path d="M882.6,495 H1033.4 Q1038.4,495 1038.4,500 V568 Q1038.4,573 1033.4,573 H882.6 Q877.6,573 877.6,568 V500 Q877.6,495 882.6,495 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="958" y="523.5" text-anchor="middle" class="flow-node-label"><tspan x="958" dy="0">Feature group</tspan><tspan x="958" dy="21">scoring</tspan></text><path d="M1094.2,507 H1273.8 Q1278.8,507 1278.8,512 V556 Q1278.8,561 1273.8,561 H1094.2 Q1089.2,561 1089.2,556 V512 Q1089.2,507 1094.2,507 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="1184" y="534" text-anchor="middle" dominant-baseline="central" class="flow-node-label">Data fit scoring</text><path d="M1334.4,495 H1571.6 Q1576.6,495 1576.6,500 V568 Q1576.6,573 1571.6,573 H1334.4 Q1329.4,573 1329.4,568 V500 Q1329.4,495 1334.4,495 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="1453" y="523.5" text-anchor="middle" class="flow-node-label"><tspan x="1453" dy="0">Learned alias boost</tspan><tspan x="1453" dy="21">from prior acceptances</tspan></text><path d="M958,673 L1038.4,753.4 L958,833.8 L877.6,753.4 Z" class="flow-node flow-node-shape flow-node-shape-diamond"/><text x="958" y="740.9" text-anchor="middle" class="flow-node-label"><tspan x="958" dy="0">Margin of</tspan><tspan x="958" dy="21">victory &lt; 7%?</tspan></text><path d="M958,973.4 L1024,1039.4 L958,1105.4 L892,1039.4 Z" class="flow-node flow-node-shape flow-node-shape-diamond"/><text x="958" y="1026.9" text-anchor="middle" class="flow-node-label"><tspan x="958" dy="0">Confidence</tspan><tspan x="958" dy="21">&lt; 80%?</tspan></text><path d="M659.8,1195 H916.2 Q921.2,1195 921.2,1200 V1268 Q921.2,1273 916.2,1273 H659.8 Q654.8,1273 654.8,1268 V1200 Q654.8,1195 659.8,1195 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="788" y="1223.5" text-anchor="middle" class="flow-node-label"><tspan x="788" dy="0">qwen3:0.6b</tspan><tspan x="788" dy="21">via Ollama or LLamaSharp</tspan></text><path d="M679,1362.6 H897 Q902,1362.6 902,1367.6 V1435.6 Q902,1440.6 897,1440.6 H679 Q674,1440.6 674,1435.6 V1367.6 Q674,1362.6 679,1362.6 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="788" y="1391.1" text-anchor="middle" class="flow-node-label"><tspan x="788" dy="0">LLM confirms or</tspan><tspan x="788" dy="21">suggests alternative</tspan></text><path d="M777.4,1540.6 H966.6 Q971.6,1540.6 971.6,1545.6 V1613.6 Q971.6,1618.6 966.6,1618.6 H777.4 Q772.4,1618.6 772.4,1613.6 V1545.6 Q772.4,1540.6 777.4,1540.6 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="872" y="1569.1" text-anchor="middle" class="flow-node-label"><tspan x="872" dy="0">Ready mappings</tspan><tspan x="872" dy="21">confidence &gt;= 80%</tspan></text><path d="M527.4,1540.6 H716.6 Q721.6,1540.6 721.6,1545.6 V1613.6 Q721.6,1618.6 716.6,1618.6 H527.4 Q522.4,1618.6 522.4,1613.6 V1545.6 Q522.4,1540.6 527.4,1540.6 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="622" y="1569.1" text-anchor="middle" class="flow-node-label"><tspan x="622" dy="0">Review mappings</tspan><tspan x="622" dy="21">50-79% confidence</tspan></text><path d="M527.2,1668.6 H706.8 Q711.8,1668.6 711.8,1673.6 V1741.6 Q711.8,1746.6 706.8,1746.6 H527.2 Q522.2,1746.6 522.2,1741.6 V1673.6 Q522.2,1668.6 527.2,1668.6 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="617" y="1697.1" text-anchor="middle" class="flow-node-label"><tspan x="617" dy="0">Unmapped</tspan><tspan x="617" dy="21">&lt; 50% confidence</tspan></text><path d="M767.6,1680.6 H966.4 Q971.4,1680.6 971.4,1685.6 V1729.6 Q971.4,1734.6 966.4,1734.6 H767.6 Q762.6,1734.6 762.6,1729.6 V1685.6 Q762.6,1680.6 767.6,1680.6 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="867" y="1707.6" text-anchor="middle" dominant-baseline="central" class="flow-node-label">User clicks Accept</text><path d="M799,1846.6 H1017 Q1022,1846.6 1022,1851.6 V1895.6 Q1022,1900.6 1017,1900.6 H799 Q794,1900.6 794,1895.6 V1851.6 Q794,1846.6 799,1846.6 Z" class="flow-node flow-node-shape flow-node-shape-rectangle"/><text x="908" y="1873.6" text-anchor="middle" dominant-baseline="central" class="flow-node-label">POST /accept-mapping</text><path d="M996,1959.8 A76,9.2 0 0 1 1148,1959.8 V2033.4 A76,9.2 0 0 1 996,2033.4 V1959.8 Z M996,1959.8 A76,9.2 0 0 0 1148,1959.8" class="flow-node flow-node-shape flow-node-shape-cylinder"/><text x="1072" y="1986.1" text-anchor="middle" class="flow-node-label"><tspan x="1072" dy="0">learned_aliases</tspan><tspan x="1072" dy="21">PostgreSQL</tspan></text></g></svg>