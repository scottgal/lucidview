<svg id="mermaid-svg" width="100%" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 740 800" style="max-width: 740px;" role="graphics-document document" xmlns:xlink="http://www.w3.org/1999/xlink"><style xmlns="http://www.w3.org/1999/xhtml">@import url("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css");</style><defs><marker id="arrowhead" refX="9" refY="3.5" markerWidth="10" markerHeight="7" orient="auto"><path d="M0,0 L10,3.5 L0,7 Z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="arrowhead-dotted" refX="9" refY="3.5" markerWidth="10" markerHeight="7" orient="auto"><path d="M0,0 L10,3.5 L0,7 Z" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker><marker id="cross" refX="4" refY="4" markerWidth="8" markerHeight="8" orient="auto"><path d="M1,1 L7,7 M7,1 L1,7" class="arrowMarkerPath" style="stroke-width: 1; stroke-dasharray: 1, 0;"/></marker></defs><text x="370" y="20" text-anchor="middle" font-size="16px" font-family="Arial, sans-serif" font-weight="bold">Complete Authentication Flow</text><circle cx="70" cy="65" r="15" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><line x1="70" y1="80" x2="70" y2="95" stroke="#9370DB" stroke-width="1"/><line x1="55" y1="85" x2="85" y2="85" stroke="#9370DB" stroke-width="1"/><line x1="70" y1="95" x2="60" y2="90" stroke="#9370DB" stroke-width="1"/><line x1="70" y1="95" x2="80" y2="90" stroke="#9370DB" stroke-width="1"/><text x="70" y="105" text-anchor="middle" dominant-baseline="top" font-size="14px" font-family="Arial, sans-serif">User</text><rect x="170" y="50" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="220" y="70" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Web Client</text><rect x="320" y="50" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="370" y="70" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Auth Service</text><rect x="470" y="50" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="520" y="70" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Database</text><rect x="620" y="50" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="670" y="70" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Email Service</text><line x1="70" y1="90" x2="70" y2="740" stroke="#999" stroke-width="1" stroke-dasharray="5,5"/><line x1="220" y1="90" x2="220" y2="740" stroke="#999" stroke-width="1" stroke-dasharray="5,5"/><line x1="370" y1="90" x2="370" y2="740" stroke="#999" stroke-width="1" stroke-dasharray="5,5"/><line x1="520" y1="90" x2="520" y2="740" stroke="#999" stroke-width="1" stroke-dasharray="5,5"/><line x1="670" y1="90" x2="670" y2="740" stroke="#999" stroke-width="1" stroke-dasharray="5,5"/><line x1="70" y1="140" x2="220" y2="140" stroke="#333" stroke-width="1"/><polygon points="220,140 212,136 212,144" fill="#333"/><text x="145" y="132" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">1. Enter credentials</text><line x1="220" y1="190" x2="370" y2="190" stroke="#333" stroke-width="1"/><polygon points="370,190 362,186 362,194" fill="#333"/><text x="295" y="182" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">2. POST /login</text><line x1="370" y1="240" x2="520" y2="240" stroke="#333" stroke-width="1"/><polygon points="520,240 512,236 512,244" fill="#333"/><text x="445" y="232" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">3. Query user</text><line x1="520" y1="290" x2="370" y2="290" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/><polygon points="370,290 378,286 378,294" fill="#333"/><text x="445" y="282" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">4. User data</text><path d="M430,340 L542,340 L550,348 L550,380 L430,380 Z" fill="#FFFFCC" stroke="#AAAA33" stroke-width="1"/><line x1="542" y1="340" x2="542" y2="348" stroke="#AAAA33" stroke-width="1"/><line x1="542" y1="348" x2="550" y2="348" stroke="#AAAA33" stroke-width="1"/><text x="490" y="360" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Validate credentials</text><path d="M370,390 L410,390 L410,420 L370,420" fill="none" stroke="#333" stroke-width="1" marker-end="url(#arrowhead)"/><text x="415" y="405" text-anchor="start" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">5. Generate JWT</text><path d="M430,440 L542,440 L550,448 L550,480 L430,480 Z" fill="#FFFFCC" stroke="#AAAA33" stroke-width="1"/><line x1="542" y1="440" x2="542" y2="448" stroke="#AAAA33" stroke-width="1"/><line x1="542" y1="448" x2="550" y2="448" stroke="#AAAA33" stroke-width="1"/><text x="490" y="460" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Token expires in 24h</text><line x1="370" y1="490" x2="220" y2="490" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/><polygon points="220,490 228,486 228,494" fill="#333"/><text x="295" y="482" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">6. 200 OK + Token</text><line x1="220" y1="540" x2="670" y2="540" stroke="#333" stroke-width="1"/><polygon points="670,540 662,536 662,544" fill="#333"/><text x="445" y="532" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">7. Send welcome email</text><line x1="670" y1="590" x2="220" y2="590" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/><polygon points="220,590 228,586 228,594" fill="#333"/><text x="445" y="582" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">8. Email sent</text><line x1="220" y1="640" x2="70" y2="640" stroke="#333" stroke-width="1" stroke-dasharray="5,5"/><polygon points="70,640 78,636 78,644" fill="#333"/><text x="145" y="632" text-anchor="middle" dominant-baseline="bottom" font-size="14px" font-family="Arial, sans-serif">9. Show dashboard</text><path d="M235,690 L347,690 L355,698 L355,730 L235,730 Z" fill="#FFFFCC" stroke="#AAAA33" stroke-width="1"/><line x1="347" y1="690" x2="347" y2="698" stroke="#AAAA33" stroke-width="1"/><line x1="347" y1="698" x2="355" y2="698" stroke="#AAAA33" stroke-width="1"/><text x="295" y="710" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Session established</text><rect x="365" y="190" width="10" height="100" fill="#F4F4F4" stroke="#666" stroke-width="1"/><rect x="215" y="140" width="10" height="350" fill="#F4F4F4" stroke="#666" stroke-width="1"/><rect x="665" y="540" width="10" height="200" fill="#F4F4F4" stroke="#666" stroke-width="1"/><rect x="515" y="240" width="10" height="500" fill="#F4F4F4" stroke="#666" stroke-width="1"/><circle cx="70" cy="755" r="15" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><line x1="70" y1="770" x2="70" y2="785" stroke="#9370DB" stroke-width="1"/><line x1="55" y1="775" x2="85" y2="775" stroke="#9370DB" stroke-width="1"/><line x1="70" y1="785" x2="60" y2="780" stroke="#9370DB" stroke-width="1"/><line x1="70" y1="785" x2="80" y2="780" stroke="#9370DB" stroke-width="1"/><text x="70" y="795" text-anchor="middle" dominant-baseline="top" font-size="14px" font-family="Arial, sans-serif">User</text><rect x="170" y="740" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="220" y="760" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Web Client</text><rect x="320" y="740" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="370" y="760" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Auth Service</text><rect x="470" y="740" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="520" y="760" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Database</text><rect x="620" y="740" width="100" height="40" rx="3" ry="3" fill="#ECECFF" stroke="#9370DB" stroke-width="1"/><text x="670" y="760" text-anchor="middle" dominant-baseline="middle" font-size="14px" font-family="Arial, sans-serif">Email Service</text></svg>